---
- name: vim
  apt: 
    name: ["vim-gnome", "git-core", "python3"]
    state: present 
    update_cache: yes
  sudo: yes

- name: vimrc
  copy: src="{{ playbook_dir }}/../../vim/vimrc" dest="~/.vimrc"

- name: vundle
  git: repo=https://github.com/gmarik/Vundle.vim.git dest="~/.vim/bundle/Vundle.vim"

- name: vundle plugins
  shell: vim +PluginInstall +qall

- name: YouCompleteMe dependencies
  apt: name={{ item }} cache_valid_time=3600 state=present update_cache=yes
  sudo: yes
  with_items:
      - build-essential 
      - cmake 
      - python3-dev

- name: YouCompleteMe
  shell: python install.py
  args:
    chdir: ~/.vim/bundle/YouCompleteMe
